# 家庭资产记账应用 - 系统功能范围总览

## 功能范围

### 模块一：工资管理系统
- 功能描述：提供完整的薪资收入管理、税务计算、奖金管理功能，支持多种工资计算模式和个税预扣预缴计算
- 子模块：
 - 工资录入：完整的工资结构录入，包括基本工资、各类型补贴、奖金等，支持月薪制和年薪制
   - UC：用户点击"工资收入"标签页，进入薪资设置页面，填写基本工资、住房补贴、餐补、交通补贴等各项收入，选择发薪日，系统自动计算月收入总额
 - 奖金管理：支持多种奖金类型（年终奖、季度奖、十三薪等）的录入和管理，支持奖金税收优化计算
   - UC：用户在工资设置页面点击"添加奖金"，选择奖金类型（年终奖/季度奖/十三薪/其他），填写奖金金额和发放月份，系统自动计算税后净收入
 - 税务计算：基于最新个税政策，支持标准扣除、专项附加扣除、年中开始模式等多种税务计算场景
   - UC：用户在工资设置页面选择"自动计算个税"，填写五险一金扣除额、专项附加扣除（如子女教育、继续教育等），系统根据年度累计收入自动计算应纳税额
 - 薪资预览：提供薪资结构预览、年度收入预测、税负分析等功能
   - UC：用户完成工资设置后，点击"预览"按钮，查看月度薪资明细、年度收入预测图表，了解税负分布情况
 - 历史工资管理：支持工资调整历史记录，便于追溯和分析收入变化
   - UC：用户在工资设置页面添加历史工资记录，系统按时间线展示工资变化趋势，支持年度收入对比分析

### 模块二：资产管理系统
- 功能描述：提供完整的家庭资产分类管理、分步式录入、资产总览仪表盘、资产分布可视化等功能
- 子模块：
 - 资产分类：五大资产分类（流动资产、固定资产、投资理财、应收款项、负债），支持细分子类别
   - UC：用户在资产管理页面选择资产分类（如流动资产），再选择子类别（如现金/银行存款），进入对应的录入流程
 - 分步式录入：引导式资产添加流程，支持批量管理和资产详情编辑
   - UC：用户点击"添加资产"，选择资产类型后，系统按步骤引导填写资产信息（名称、金额、购买日期等），支持上传相关凭证
 - 资产总览：实时计算总资产、净资产、负债率，提供资产健康度分析
   - UC：用户进入资产管理主页面，查看总资产金额、资产构成饼图、月度资产变化趋势图，了解资产配置情况
 - 资产分布可视化：饼图、柱状图展示资产构成，支持资产详情钻取
   - UC：用户点击资产分布图的某个类别，查看该类别下所有资产的详细列表，支持按金额排序和筛选
 - 隐私保护：金额隐藏/显示功能，支持资产信息的隐私保护
   - UC：用户点击眼睛图标切换金额显示状态，敏感资产信息可以设置为隐藏，只显示类别和占比

### 模块三：预算管理系统
- 功能描述：提供双重预算体系（信封预算+零基预算）、智能预算建议、预算执行监控等功能
- 子模块：
 - 信封预算：为特定支出类别设定限额，支持预算周期设置和自动提醒
   - UC：用户创建信封预算，选择支出类别（如餐饮），设置月预算金额（¥2000），选择预算周期，系统自动监控支出进度
 - 零基预算：将收入分配到各个支出类别，实现收支平衡管理
   - UC：用户创建零基预算，设置总收入金额，选择各支出类别分配比例（如住房30%、餐饮15%），系统计算每个类别的预算限额
 - 预算管理界面：统一的预算创建、编辑、删除、状态管理功能
   - UC：用户在预算管理页面点击"创建预算"，选择预算类型，填写预算信息，设置生效日期和预算周期
 - 预算详情页面：预算使用情况、交易记录关联、预算调整建议
   - UC：用户点击具体预算，查看预算进度条、已支出金额、剩余可用金额，查看关联的交易记录列表
 - 智能预算建议：基于资产类型智能推荐相关预算项目
   - UC：用户添加房产资产后，系统自动推荐创建"房贷支出"、"房屋维护"、"物业费"等相关预算项目

### 模块四：交易管理系统
- 功能描述：提供完整的交易记录管理，支持多种交易类型、多账户关联、交易搜索筛选等功能
- 子模块：
 - 交易录入：支持收入、支出、转账三种交易类型，支持草稿保存
   - UC：用户点击"添加交易"，选择交易类型（支出），填写交易金额、选择账户、选择交易类别，添加备注信息
 - 交易管理界面：总览、交易记录、草稿三个标签页的统一管理
   - UC：用户进入交易管理页面，默认显示总览页，查看月度收支统计、账户余额，切换到交易记录页查看详细列表
 - 交易详情页面：完整的交易信息展示，支持编辑和删除
   - UC：用户点击交易记录，查看交易详情，包括时间、金额、账户、类别、备注，支持编辑交易信息
 - 交易列表管理：按日期分组、搜索筛选、批量操作功能
   - UC：用户在交易列表中使用搜索框查找特定交易，使用筛选器按类别、账户、日期范围筛选，支持多选批量删除
 - 多账户支持：支持现金、银行卡、信用卡等多种账户类型
   - UC：用户在添加交易时选择交易账户（如工商银行储蓄卡），系统自动更新该账户余额，支持账户间转账操作
 - 草稿功能：保存未完成的交易，支持后续编辑和提交
   - UC：用户填写部分交易信息后，选择"保存草稿"，交易记录保存在草稿标签页，后续可以继续编辑并提交

### 模块五：账户管理系统
- 功能描述：提供多账户类型管理、账户余额跟踪、账户间转账等功能
- 子模块：
 - 账户创建：支持多种账户类型（现金、银行卡、信用卡、投资账户等）
   - UC：用户在账户管理页面点击"添加账户"，选择账户类型（如银行卡），填写账户名称、银行名称、卡号等信息
 - 账户余额管理：实时更新账户余额，支持余额隐藏显示
   - UC：系统根据交易记录自动更新账户余额，用户在账户列表查看各账户当前余额，支持点击隐藏敏感金额
 - 账户详情页面：账户交易历史、余额变化趋势、账户信息管理
   - UC：用户点击具体账户，查看该账户的收支明细列表、余额变化曲线图，支持编辑账户信息和删除账户
 - 账户间转账：支持不同账户间的资金转移操作
   - UC：用户选择转出账户和转入账户，填写转账金额和手续费，系统自动更新两个账户的余额

### 模块六：税务计算系统
- 功能描述：提供专业的个人所得税计算服务，支持最新税率表和多种扣除项目
- 子模块：
 - 个税计算：基于2021年最新税率表，支持年度累计计算和月度预扣预缴
   - UC：用户输入年度收入总额、各类扣除项目（如五险一金、专项附加扣除），系统自动计算应纳税所得额和税款金额
 - 专项附加扣除：支持子女教育、继续教育、大病医疗、住房贷款利息等专项扣除
   - UC：用户在税务计算页面选择专项附加扣除类型，填写扣除金额和相关信息，系统自动计入税前扣除
 - 年中开始模式：支持从年中开始计算税务的情况，处理累计收入和已缴税款
   - UC：用户选择"年中开始模式"，输入已工作月数、累计收入、已缴税款，系统计算剩余月份的预扣税额
 - 奖金税收优化：支持年终奖分月发放等税收优化建议
   - UC：用户输入年终奖金额，系统建议分月发放的最佳方案，计算不同发放方式的税负对比

### 模块七：历史追溯系统
- 功能描述：提供完整的资产变更历史记录，支持数据导出和历史状态重建
- 子模块：
 - 资产变更历史：自动记录所有资产的创建、更新、删除操作
   - UC：用户修改资产信息后，系统自动保存变更历史，包括变更时间、变更内容、操作人等信息
 - 历史查询：支持按时间范围、资产类型、操作类型查询历史记录
   - UC：用户在历史记录页面选择时间范围，筛选特定资产的历史变更记录，支持导出历史数据
 - 数据导出：支持完整数据导出，包含资产和历史记录
   - UC：用户点击"导出数据"，选择导出范围（资产+历史记录），系统生成JSON格式的完整数据包
 - 历史统计：提供资产变化趋势分析、历史数据可视化
   - UC：用户查看历史统计图表，了解资产增减变化趋势、各类资产的历史占比变化等

### 模块八：贷款计算系统
- 功能描述：提供房贷、车贷等贷款计算功能，支持多种还款方式和利率计算
- 子模块：
 - 房贷计算器：支持等额本息、等额本金两种还款方式
   - UC：用户输入房贷金额、贷款年限、利率，选择还款方式，系统计算每月还款额、总利息、还款计划表
 - 车贷计算器：支持汽车贷款计算和还款计划分析
   - UC：用户输入车贷金额、贷款期限、利率，系统计算月供金额、总利息，支持提前还款计算
 - 还款计划表：详细的还款时间表和利息明细
   - UC：用户查看贷款详情，系统展示逐月的还款计划，包括本金、利息、剩余本金等详细信息
 - 利率调整：支持固定利率和浮动利率计算
   - UC：用户选择利率类型，输入基准利率和调整比例，系统计算实际执行利率

### 模块九：性能监控系统
- 功能描述：提供应用性能监控和分析功能，帮助优化用户体验
- 子模块：
 - 构建监控：监控Widget构建时间和绘制性能
   - UC：开发者在开发模式下查看各页面的构建耗时，识别性能瓶颈进行优化
 - 内存监控：监控应用内存使用情况
   - UC：系统实时监控内存占用，在内存不足时进行垃圾回收优化
 - 性能分析：提供性能数据统计和优化建议
   - UC：开发者查看性能分析报告，了解各功能的耗时分布，针对性地进行代码优化

### 模块十：开发模式系统
- 功能描述：提供开发者调试和测试功能，便于应用维护和问题排查
- 子模块：
 - 数据导出导入：支持完整数据的JSON格式导出和导入
   - UC：开发者在开发模式下点击"导出数据"，将所有数据导出为JSON格式，支持跨设备数据迁移
 - 测试数据生成：一键生成示例数据用于测试
   - UC：开发者点击"生成测试数据"，系统自动创建各类资产、交易、预算等示例数据，便于功能测试
 - 数据清空：清除所有本地数据，支持快速重置应用状态
   - UC：开发者需要重置应用状态时，点击"清空数据"，系统删除所有本地存储的数据
 - 调试信息：提供详细的日志和调试信息展示
   - UC：开发者查看应用运行日志，包括页面切换、数据操作、错误信息等，便于问题排查

---

**文档版本**：V1.0
**更新时间**：2025年9月15日
**维护人员**：AI助手
**备注**：基于代码分析整理的系统功能总览，涵盖所有已实现的核心功能模块
