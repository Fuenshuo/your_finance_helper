# 资产清单页面深度设计文档

## 1. 功能模块设计

### 1.1 顶部总览卡片
**功能描述**：
- 页面顶部展示总资产净值
- 可点击进入历史数据总览或专业财务报表
- 卡片右侧有"眼睛"图标，用于开启/关闭隐私模式
- 显示昨日涨跌或本月变化的百分比和金额

**技术实现**：
- 使用`AppCard`组件作为基础容器
- 集成`AppAnimations.animatedNumber`实现数字滚动动画
- 添加点击事件导航到历史数据页面
- 集成隐私模式切换功能

### 1.2 资产类别切换
**功能描述**：
- 顶部或中部设有可滑动的标签栏（Tab Bar）
- 快速切换不同资产类别：**"全部资产"、"流动资金"、"固定资产"、"投资理财"**等
- 支持水平滑动切换

**技术实现**：
- 使用`TabBar`和`TabBarView`组件
- 实现`TabController`进行状态管理
- 添加滑动动画和切换效果

### 1.3 资产列表
**功能描述**：
- 标签栏下方是资产账户的可滚动列表
- 每一行代表一个具体的资产账户
- 显示账户名称、账户余额和近期的余额变化趋势
- 支持趋势图显示（折线图）

**技术实现**：
- 使用`ListView.builder`实现可滚动列表
- 每个列表项使用自定义`AssetListItem`组件
- 集成`fl_chart`显示趋势图
- 实现余额变化动画

### 1.4 底部"+"按钮
**功能描述**：
- 页面右下角是悬浮的"+"按钮
- 点击后可快速录入新的资产或交易

**技术实现**：
- 使用`FloatingActionButton`组件
- 添加光晕和阴影效果
- 集成导航到资产录入页面

## 2. 样式设计规范

### 2.1 整体风格
- **页面背景**：淡雅灰 `#F7F7FA`
- **卡片背景**：白色，带柔和阴影
- **点缀色**：温柔紫 `#EAEAFB` 和活力蓝 `#007AFF`
- **圆角设计**：12pt圆角半径
- **阴影效果**：`color: Colors.black.withOpacity(0.04), blurRadius: 16, spreadRadius: 0, offset: Offset(0, 4)`

### 2.2 总览卡片样式
- **背景**：渐变色（从温柔紫到活力蓝）
- **净资产数字**：大号、加粗的深邃灰字体 `#1C1C1E`
- **涨跌显示**：绿色（涨）`#34C759` 或红色（跌）`#FF3B30`
- **字体大小**：使用`responsiveDisplayLarge`样式

### 2.3 资产列表项样式
- **账户名称**：深邃灰 `#1C1C1E`
- **类别和趋势文字**：中性灰 `#8A8A8E`
- **余额数字**：根据正负变化使用绿色或红色，字体稍大、加粗
- **趋势图**：折线图，线条使用活力蓝 `#007AFF`

### 2.4 浮动"+"按钮样式
- **形状**：圆形
- **背景**：活力蓝 `#007AFF`
- **图标**：白色"+"号
- **效果**：轻微光晕和阴影

### 2.5 标签栏样式
- **选中标签**：温柔紫背景 `#EAEAFB`，深邃灰字体 `#1C1C1E`
- **未选中标签**：淡雅灰背景 `#F7F7FA`，中性灰字体 `#8A8A8E`
- **设计**：圆角，统一间距
- **滑动**：支持水平滑动

## 3. 动效设计规范

### 3.1 页面加载动效
- **总览卡片**：从顶部淡入（fadeIn + slideDown）
- **列表项**：从底部依次、快速向上滑入（slideUp + stagger）
- **时长**：总览卡片 300ms，列表项 200ms（每个间隔50ms）

### 3.2 类别切换动效
- **标签点击**：轻微缩放（scale 0.95）和颜色变化
- **列表切换**：快速淡出旧内容，淡入新内容（fadeOut + fadeIn）
- **时长**：标签动效 150ms，列表切换 200ms

### 3.3 新增资产动效
- **录入面板**：从屏幕底部平滑向上滑动进入（slideUp）
- **新账户**：在列表中淡入并向上移动到相应位置（fadeIn + slideUp）
- **时长**：录入面板 300ms，新账户 400ms

### 3.4 数据刷新动效
- **数字更新**：滚动递增/递减动画（numberRoll）
- **闪烁提示**：轻微的闪烁效果（blink）
- **时长**：数字滚动 800ms，闪烁 200ms

## 4. 技术架构

### 4.1 组件结构
```
AssetListScreen
├── AppBar
├── OverviewCard (总览卡片)
├── CategoryTabBar (类别切换)
├── AssetListView (资产列表)
└── FloatingActionButton (+按钮)
```

### 4.2 状态管理
- 使用`Provider`模式管理资产数据
- `AssetProvider`：管理资产列表和分类
- `TabController`：管理标签切换状态
- 响应式设计：集成移动端优化

### 4.3 数据流
1. 用户选择资产类别
2. 触发`AssetProvider`过滤数据
3. 更新UI显示对应资产列表
4. 支持实时数据更新和动画

## 5. 实现优先级

### 高优先级（核心功能）
1. 总览卡片设计和实现
2. 资产类别切换功能
3. 资产列表基础显示
4. 基础样式和布局

### 中优先级（增强体验）
1. 趋势图集成
2. 页面加载动效
3. 类别切换动效
4. 数据刷新动效

### 低优先级（细节优化）
1. 新增资产动效
2. 高级样式效果
3. 性能优化
4. 错误处理

## 6. 验收标准

### 功能验收
- [ ] 总览卡片正确显示总资产净值
- [ ] 资产类别切换功能正常
- [ ] 资产列表正确显示和滚动
- [ ] 浮动按钮功能正常

### 样式验收
- [ ] 整体风格符合设计规范
- [ ] 响应式设计在移动端正常
- [ ] 颜色和字体使用正确
- [ ] 圆角和阴影效果正确

### 动效验收
- [ ] 页面加载动效流畅
- [ ] 类别切换动效自然
- [ ] 数据更新动效清晰
- [ ] 整体动效协调统一
