---
globs: *.dart
description: Flutter development guidelines and best practices
---

# Flutter开发规范

## 代码组织
- 使用Provider进行状态管理，避免直接使用StatefulWidget
- 所有Provider必须实现initialize()方法进行异步初始化
- 使用late final进行延迟初始化，避免构造函数中的异步操作

## 数据模型规范
- 所有模型类必须继承Equatable
- 使用const构造函数和copyWith方法
- 实现toJson/fromJson序列化方法
- 使用Uuid生成唯一ID

## UI组件规范
- 使用AppCard作为基础卡片组件
- 使用AppAnimations进行统一的动效处理
- 遵循8pt间距系统，使用context.spacing*方法
- 使用context.formatAmount格式化金额显示

## 错误处理
- 所有异步操作必须包含try-catch错误处理
- 使用notifyListeners()更新UI状态
- 提供clearError()方法清除错误状态

## 命名规范
- 文件名使用snake_case
- 类名使用PascalCase
- 方法名使用camelCase
- 常量使用UPPER_SNAKE_CASE